# Экран 5.3: App Data Screen (Управление данными приложения)

## Назначение
Управление данными приложения

## Компоненты
1. **Заголовок экрана** — "Данные приложения"
2. **Кнопка "Создать резервную копию"** (если есть записи)
   - Открывает FilePicker для сохранения JSON-файла
   - Имя файла по умолчанию: "Days backup"
   - Формат: JSON
   - **ВАЖНО:** Структура файла должна быть совместима с iOS-приложением
3. **Кнопка "Восстановить из резервной копии"**
   - Открывает FilePicker для выбора JSON-файла
   - Загружает записи из файла
   - Добавляет только новые записи (не дублирует существующие)
   - **ВАЖНО:** Формат файла должен быть совместим с iOS-приложением
4. **Кнопка "Удалить все данные"** (если есть записи)
   - Стиль: деструктивный (красный цвет)
   - Требует подтверждения действия
   - Удаляет все записи из базы данных

## Диалоги подтверждения
- **Диалог удаления данных**
    - Заголовок: "Удалить все данные?"
    - Сообщение: "Вы хотите удалить все данные безвозвратно?"
    - Кнопки: "Удалить" (деструктивная), "Отмена"

## Диалоги результатов
- **Успешное создание бэкапа**
    - Заголовок: "Готово"
    - Сообщение: "Резервная копия сохранена"
- **Успешное восстановление**
    - Заголовок: "Готово"
    - Сообщение: "Данные восстановлены из резервной копии"
- **Успешное удаление**
    - Заголовок: "Готово"
    - Сообщение: "Все данные удалены"
- **Ошибка восстановления**
    - Заголовок: "Ошибка"
    - Сообщение: "Не удалось восстановить данные из выбранного файла"

## Навигация
- Кнопка "Назад" → Screen 5.1 (More Screen)

## Реализация
- Создать список действий с данными приложения
- Реализовать функциональность создания резервной копии (экспорт в JSON)
- Реализовать функциональность восстановления из резервной копии (импорт из JSON)
- Реализовать функцию удаления всех данных с подтверждением
- Добавить логику проверки наличия записей для активации/деактивации кнопок
- Реализовать диалоги подтверждения и результатов
- Подключить к ViewModel для управления операциями с данными
- Использовать Room для локального хранения данных
- Использовать DataStore для хранения настроек приложения
- Использовать современные компоненты Material Design 3
- Применить тему приложения с поддержкой темного режима
- Применить корректные иконки из Material Icons
- Использовать Coroutines для асинхронных операций
- Реализовать обработку ошибок и состояний загрузки
- Обеспечить совместимость формата резервной копии с iOS-приложением

## Тестирование
- Проверить создание резервной копии
- Проверить восстановление из резервной копии
- Проверить удаление всех данных с подтверждением
- Проверить корректное отображение диалогов
- Проверить корректную навигацию назад
- Проверить, что кнопки активируются/деактивируются в зависимости от наличия записей