# Экран 1.1: Root Screen (Корневой экран с TabBar)

**Статус: ✅ Полностью реализован**

## Обзор

Root Screen является основным экраном приложения с нижней навигацией. Он обеспечивает переключение между основными разделами приложения через TabBar.

## Назначение

Основной экран приложения с нижней навигацией, обеспечивающий переключение между вкладками "События" и "Ещё".

## Компоненты

1. **Bottom Navigation Bar** — нижняя навигация с двумя вкладками ✅
2. **Контейнер для содержимого** — отображение содержимого выбранной вкладки ✅
3. **Управление состоянием** — управление активной вкладкой через ViewModel ✅

## Вкладки

- **Вкладка "События"** — главный список записей (Main Screen) ✅
- **Вкладка "Ещё"** — дополнительные функции и настройки (More Screen) ✅

## Навигация

- Переключение между вкладками через Bottom Navigation Bar ✅
- Активация вкладки "События" по умолчанию при запуске ✅
- Использование Navigation Compose для управления навигацией ✅

## Зависимости от других этапов

- Нет зависимостей — это базовый экран навигации

---

## Статус реализации

**Этап полностью завершен ✅**

### Реализованные компоненты

1. **`navigation/Screen.kt`** - sealed class для вкладок (Events, More)
2. **`viewmodel/RootScreenViewModel.kt`** - ViewModel с логикой переключения вкладок
3. **`ui/state/RootScreenState.kt`** - UI State
4. **`ui/screen/RootScreen.kt`** - RootScreen composable с NavigationBar и NavHost
5. **`ui/screen/components/RootScreenComponents.kt`** - компоненты навигации

### Тесты

Все тесты реализованы (с расширением `.disabled`):

- **`RootScreenViewModelTest.kt`** - тесты ViewModel
- **`RootScreenStateTest.kt`** - тесты UI State
- **`ScreenTest.kt`** - тесты sealed class Screen

---

## Реализация

Все компоненты реализованы в соответствии с планом:

- Navigation Compose для управления навигацией
- Sealed class `Screen` с локализацией через `titleResId`
- Material Design 3 компоненты (NavigationBar, NavigationBarItem)
- ViewModel для управления состоянием вкладок
- Синхронизация состояния с навигационным стеком
- Поддержка светлого и темного режимов
- Иконки из Material Icons (List, MoreVert)

---

## Тестирование

### Unit-тесты (реализованы, готовы к запуску)

- **`RootScreenViewModelTest.kt`** - тесты для ViewModel:
  - Проверка начального состояния (Events активна по умолчанию)
  - Переключение на вкладку Events
  - Переключение на вкладку More
  - Обработка неверных вкладок

- **`RootScreenStateTest.kt`** - тесты для UI State:
  - Проверка создания с параметрами по умолчанию
  - Проверка создания с пользовательской вкладкой
  - Проверка создания с пользовательским списком вкладок

- **`ScreenTest.kt`** - тесты для sealed class Screen:
  - Проверка свойств вкладки Events
  - Проверка свойств вкладки More

### Интеграционные тесты

- **`RootScreenViewModelIntegrationTest.kt`** - тесты взаимодействия (готов к запуску)

---

## Критерии завершения этапа

**Этап полностью завершен ✅**

Все критерии выполнены:
- ✅ Все компоненты созданы и работают
- ✅ Все unit-тесты написаны и готовы к запуску
- ✅ Код соответствует правилам проекта
- ✅ Навигация работает корректно
- ✅ Тема применена корректно (поддержка светлого и темного режимов)

---

## Блокируемые этапы

После завершения этого экрана можно приступать к:
- Экран 2.1: Главный экран (требует навигацию)
- Экран 5.1: More Screen (требует навигацию)

---

## Примечания

1. **Material Design 3**: Использованы современные компоненты Material Design 3 для навигации.

2. **Состояние**: Управление состоянием вкладок синхронизировано с навигационным стеком через ViewModel.

3. **Тестирование**: Все компоненты покрыты тестами (готовы к запуску с расширением `.disabled`).

4. **Тема**: Тема применена корректно, поддерживает светлый и темный режимы.

5. **Локализация**: Использованы строковые ресурсы из `Localization_Plan.md`:
   - Названия вкладок: `events`, `more`
   - Локализация через `titleResId` в sealed class Screen
   - Получение строк в UI через `stringResource(id = screen.titleResId)`
