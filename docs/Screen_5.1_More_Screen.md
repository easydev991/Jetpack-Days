# Экран 5.1: More Screen (Ещё)

## Обзор

More Screen является экраном с дополнительными функциями и настройками приложения. Экран предоставляет доступ к настройкам темы и иконки, управлению данными, а также к внешним ссылкам и функциям обратной связи.

## Назначение

Экран с дополнительными функциями и настройками приложения, включая настройки темы и иконки, управление данными, отправку отзыва и ссылки на внешние ресурсы.

## Компоненты

1. **Заголовок экрана** — "Ещё"
2. **Кнопка "Тема и иконка"**
   - Переход к экрану Screen 5.2
3. **Кнопка "Данные приложения"**
   - Переход к экрану Screen 5.3
4. **Кнопка "Отправить отзыв"**
   - Открывает почтовый клиент/форму обратной связи
5. **Кнопка "Оценить приложение"**
   - Ссылка на страницу в Google Play для оценки
6. **Кнопка "Поделиться приложением"**
   - ShareSheet с ссылкой на приложение в Google Play
7. **Кнопка "Страница на GitHub"**
   - Ссылка на репозиторий приложения
8. **Текст версии приложения** (внизу экрана)
   - Формат: "Версия X.Y.Z"

## Навигация

- "Тема и иконка" → Screen 5.2 (ThemeIcon Screen)
- "Данные приложения" → Screen 5.3 (AppData Screen)

## Зависимости от других этапов

- ⚠️ **Требуется Экран 1.1**: Root Screen — должен быть реализован для навигации к More Screen
- ⚠️ **Требуется Экран 5.2**: ThemeIcon Screen — должен быть реализован для навигации (опционально)
- ⚠️ **Требуется Экран 5.3**: AppData Screen — должен быть реализован для навигации (опционально)

---

## Подробный план реализации по TDD

### Шаг 1: Структура и навигация

#### 1.1. Создание файла экрана

**Задачи:**
1. Создать отдельный файл `MoreScreen.kt` в `ui/screen/`
2. Вынести `moreScreenContent()` из RootScreen.kt в отдельный компонент
3. Добавить маршруты для экранов 5.2 и 5.3 в navigation/Screen.kt (ThemeIcon, AppData)

**Критерии готовности:**
- ✅ Файл MoreScreen.kt создан
- ✅ Компонент вынесен
- ✅ Маршруты добавлены

---

#### 1.2. Настройка навигации

**Задачи:**
1. Реализовать навигацию к экрану "Тема и иконка" (Screen 5.2)
2. Реализовать навигацию к экрану "Данные приложения" (Screen 5.3)

**Критерии готовности:**
- ✅ Навигация к экранам настроена
- ✅ Переходы работают корректно

---

### Шаг 2: Реализация UI компонентов

#### 2.1. Создание списка кнопок

**Задачи:**
1. Создать список кнопок с соответствующими иконками из Material Icons
2. Реализовать верстку компонентов экрана:
   - Использовать вертикальный Column для основного макета
   - Добавить список кнопок с иконками и текстовыми метками
   - Обеспечить визуальное разделение между группами элементов
   - Добавить отображение версии приложения внизу экрана
   - Обеспечить адаптивность компоновки при изменении ориентации экрана

**Критерии готовности:**
- ✅ Список кнопок создан
- ✅ Верстка выполнена
- ✅ Адаптивность обеспечена

---

### Шаг 3: Реализация функциональности

#### 3.1. Отправка отзыва

**Задачи:**
1. Реализовать отправку отзыва (открытие почтового клиента/формы обратной связи)
2. Обработать случаи, когда почтовый клиент не установлен

**Критерии готовности:**
- ✅ Отправка отзыва работает
- ✅ Обработка ошибок реализована

---

#### 3.2. Оценка приложения

**Задачи:**
1. Реализовать оценку приложения (открытие страницы в Google Play)
2. Обработать случаи, когда Google Play не доступен

**Критерии готовности:**
- ✅ Оценка приложения работает
- ✅ Обработка ошибок реализована

---

#### 3.3. Шеринг приложения

**Задачи:**
1. Реализовать шеринг приложения (ShareSheet с ссылкой на Google Play)
2. Обработать случаи ошибок

**Критерии готовности:**
- ✅ Шеринг работает
- ✅ Обработка ошибок реализована

---

#### 3.4. Открытие GitHub репозитория

**Задачи:**
1. Реализовать открытие GitHub репозитория (открытие ссылки в браузере)
2. Обработать случаи ошибок

**Критерии готовности:**
- ✅ Открытие GitHub работает
- ✅ Обработка ошибок реализована

---

#### 3.5. Отображение версии приложения

**Задачи:**
1. Отобразить текущую версию приложения (получение из BuildConfig.VERSION_NAME)
2. Форматировать версию в формате "Версия X.Y.Z"

**Критерии готовности:**
- ✅ Версия отображается
- ✅ Форматирование работает корректно

---

### Шаг 4: Локализация

**Задачи:**
1. Использовать готовые строковые ресурсы из `Localization_Plan.md`:
   - Заголовок экрана: `more`
   - Названия кнопок: `app_theme_and_icon`, `app_data`, `send_feedback`, `rate_the_app`, `share_the_app`, `github_page`
   - Формат версии приложения: `app_version` (с параметром)
2. Поддержка русского и английского языков (уже реализована в `Localization_Plan.md`)

**Критерии готовности:**
- ✅ Используются готовые строковые ресурсы
- ✅ Локализация работает корректно

**Примечание:** План локализации готов в документе `Localization_Plan.md`. Все строки определены и готовы к использованию.

---

### Шаг 5: Финальное тестирование

**Задачи:**
1. Проверить переход к экрану "Тема и иконка" (UI тесты)
2. Проверить переход к экрану "Данные приложения" (UI тесты)
3. Проверить открытие почтового клиента для отзыва (UI тесты)
4. Проверить открытие Google Play для оценки (UI тесты)
5. Проверить функцию шеринга (UI тесты)
6. Проверить открытие GitHub репозитория (UI тесты)
7. Проверить отображение версии приложения (UI тесты)

**Критерии готовности:**
- ✅ Все тесты проходят
- ✅ Все функции работают корректно

---

## Реализация (детали)

### UI компоненты
- Использовать ScrollView для прокрутки содержимого (scrollBounceBehavior: basedOnSize)
- Реализовать адаптивную верстку (как в iOS ViewThatFits):
  - Горизонтальная верстка (HStack): две колонки кнопок (если помещается)
  - Вертикальная верстка (VStack): одна колонка кнопок (если не помещается)
- Добавить список кнопок с иконками и текстовыми метками
- Обеспечить визуальное разделение между группами элементов (spacing: 16dp)
- Добавить отображение версии приложения внизу экрана (foregroundStyle: secondary)
- Обеспечить адаптивность компоновки при изменении ориентации экрана
- Использовать современные компоненты Material Design 3
- Применить тему приложения с поддержкой темного режима
- Применить корректные иконки из Material Icons
- Верстка идентична iOS для единообразия UX

### Архитектура
- Использовать Coroutines для асинхронных операций (если требуется)
- Реализовать обработку ошибок и состояний загрузки
- Применить Clean Architecture (Data → Domain → Presentation), если требуется для будущих функций

---

## Тестирование

### Unit-тесты
- Тесты для логики получения версии приложения
- Тесты для обработки ошибок внешних ссылок

### UI-тесты
- Проверить переход к экрану "Тема и иконка"
- Проверить переход к экрану "Данные приложения"
- Проверить открытие почтового клиента для отзыва
- Проверить открытие Google Play для оценки
- Проверить функцию шеринга
- Проверить открытие GitHub репозитория
- Проверить отображение версии приложения

---

## Критерии завершения этапа

Этап считается завершенным, когда:

- ✅ Все компоненты созданы и работают
- ✅ Все unit-тесты написаны и проходят
- ✅ Все UI-тесты написаны и проходят
- ✅ Код соответствует правилам проекта
- ✅ Линтеры не выдают ошибок
- ✅ Навигация работает корректно
- ✅ Все внешние ссылки работают корректно

---

## Блокируемые этапы

После завершения этого экрана можно приступать к:
- Экран 5.2: ThemeIcon Screen (требует навигацию из More Screen)
- Экран 5.3: AppData Screen (требует навигацию из More Screen)

---

## Примечания

1. **Внешние ссылки**: Все внешние ссылки должны обрабатывать случаи, когда соответствующие приложения не установлены или недоступны.

2. **Версия приложения**: Версия должна получаться из BuildConfig.VERSION_NAME для автоматического обновления.

3. **Тестирование**: Все компоненты должны быть покрыты тестами перед использованием в других этапах.

4. **Зависимости**: Реализация зависит от завершения Экрана 1.1 (Root Screen).
